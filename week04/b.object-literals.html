<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object Literals</title>
</head>

<body>
    <script>
        /*
        Object Literals: 
        - a way to define an object using a simple and concise syntax
        - are written inside curly braces { }
        - using key-value pairs separated by commas:
            > "key" is a string (or identifier), 
            > "value" can be any valid JavaScript data type
        
        Basically => Key-Value Pairs: 
        - Each key is followed by a colon : 
        - and its corresponding value
        */

        /* 
        In JavaScript, we can create an object without a class

        In Java, we create a class (as blueprint) then its object(s):

        Class Student {
        }

        Student student1 = new Student();
        Student student2 = new Student();
        Student student3 = new Student();

        Object Literal => object without a class!

        Please consider the following symbols:
        - { } => are used to define an object
        - [ ] => for arrays => arrays of object
        */

        // Look at the two basic objects below:
        const bio = {
            name: "Alex Chow",
            dob: "1974-07-12",
            occupation: "Software Developer"
        };

        const contact = {
            phone: "416-123-1234",
            email: "alexchow@InLoveWithJavaScript.com",
            address: "123 Yonge St. Toronto-Ontario Q1W2E3"
        };

        // More Advanced Example:
        let person = {
            // Keys => properties (fields)
            firstName: "Alex",
            lastName: "Chow",
            age: 48,
            jobTitle: "Instructor",
            courses: ["Java", "JavaScript", "PHP", "Python"],
            // method
            getInfo: function () {
                document.write("<h2>Full Info</h2>");
                /*
                To access any object property => object.propertyName

                Yes, we can use for example: person.firstName (Not recommended)
                
                To access any object member (properties/methods) within this object itself
                we need to use a JS keyword "this" (it's better than using the object name itself)
                so the keyword "this" is used when we want to refer to information within the object
                */
                // document.write("Full Name: " + firstName+ " " + lastName);
                /* 
                To recap: 
                ReferenceError: firstName is not defined
                same error for lastName and age
            
                We cannot access the object properties without the keyword "this"
                The correct answer:
                */
                document.write("Full Name: " + this.firstName);


                // Or using "Template Literal":
                document.write(`${this.firstName} ${this.lastName} is ${this.age} years old`);
                // return true;
                // return 100;
            }
        } // person


        document.write(`<br>Full Name: ${person.firstName} ${person.lastName}`);
        document.write("<br>Full Name: " + person.firstName + " " + person.lastName);
        document.write("<br>The second course is: " + person.courses[1]);

        person.getInfo();

        /* 
        - Simple JS Object Literal
        - JSON => JavaScript Object Notation !!!
        */


        // Another Example:
        let country = {
            name: "Canada",  // string value
            capital: "Ottawa", // numeric value
            sea: true, // boolean value
            population: 38131104,
            language: "English",
            provinces: ["ON", "QC", "NS", "NB", "MB", "BC", "PE", "SK", "AB", "NL"],
            territories: ["NT", "YT", "NU"],
            // To know more about our country Canada: https://en.wikipedia.org/wiki/Provinces_and_territories_of_Canada
            //adding a method for this object named "bio":
            bio: function () {
                console.log(this.name + " is a country with " + this.population + " people");
                console.log("We are studying in Toronto Campus, Toronto is part of " + this.provinces[0]);
            }
        } // country

        let employee = {
            // properties (fields)
            firstName: "Alex",
            lastName: "White",
            age: 50,
            jobTitle: "Teacher",
            courses: ["ASP.NET", "Python", "PHP"],
            address: {
                street: "123 Yonge Street",
                city: "Toronto",
                province: "ON",
                code: "Q2W 3W4"
            },
            // method
            getInfo: function () {
                document.write("<h2>Employee Info</h2>");
                document.write("<ul>");
                document.write(`<li>Full Name: ${this.firstName} ${this.lastName}</li>`);
                document.write(`<li>Job Title: ${this.jobTitle}</li>`);
                document.write("</ul>");
            }
        }

        employee.getInfo();
        // Task: Alex White lives in Toronto
        document.write(`<br>${employee.firstName} ${employee.lastName} lives in ${employee.address.city}`);

        /* 
        Another way to create an object in JS is by using new Constructor():
        */
        const book = new Object({
            title: "Core JAVA Twelfth Edition",
            author: "Cay Horstman",
            publisher: "Oracle",
            released: 2022,
            getBookInfo: function () {
                console.log(`Textbook: ${this.title} by ${this.author}, was released in ${this.released}`);
            }
        });



        // Creating an array of objects:
        let courses = [
            {
                section: 205,
                name: "Java Advanced",
                semester: 3,
                day: "Wed",
                isOnline: false
            },
            {
                section: 206,
                name: "JavaScript",
                semester: 3,
                day: "Fri",
                isOnline: true
            },
            {
                section: 203,
                name: "ASP.NET",
                semester: 3,
                day: "Wed",
                isOnline: false
            },
            {
                section: 202,
                name: "PHP",
                semester: 2,
                day: "Mon",
                isOnline: true
            },
        ];

        // Loops with arrays and objects:

        // looping through an array:
        // loop to print the object/arrays:
        for (let index = 0; index < courses.length; index++) {
            const element = courses[index];
            // element => object => key: value
            document.write(element); // [object Object]
            console.log(element);
        }

        for (let index = 0; index < courses.length; index++) {
            const element = courses[index];
            document.write("<br><br>Section: " + element.section);
            document.write("<br>Subject: " + element.name);
            document.write("<br>" + element.semester);
            document.write("<br>" + element.day);
            // Ternary Operator:
            let mode = (element.isOnline) ? "Online" : "In-person"
            document.write("<br>Delivery Mode: " + mode);
        }


        document.write("<hr>");

        for (const element of courses) {
            document.write("<br><br>Section: " + element.section);
            document.write("<br>Subject: " + element.name);
            document.write("<br>" + element.semester);
            document.write("<br>" + element.day);
            // Ternary Operator:
            let mode = (element.isOnline) ? "Online" : "In-person"
            document.write("<br>Delivery Mode: " + mode);
        }

        /* 
        Remember this structure:
        element => {
            
        }

        It is a function!
        - no name => anonymous function
        - no keyword function => arrow function using arrow function
        */

        console.log("More Advanced Functions:");
        // More extra types of loops for arrays (advanced)
        // using the high order array methods:

        // foreach()
        // just loop through each item in the array:

        // map()
        // allows us to create a new array from an array

        // filter()
        // allows us to create a new array based on a condition

        /*
        These high order array methods take a "function"
        as a parameter.
        
        We need to pass an anonymous function 
        it's a callback function as it's passed as a parameter for another function/method

        The syntax:
        arrayName.forEach(function(x){
            our code...
        });

        This callback function can take multiple parameters 
        - first the parameter that we need to use to represent each item in the array
        */

        /*
        we are passing a function as an argument to another function/method
        example: 
        The method forEach() accepting a function as an argument

        The function that we pass as an argument has label: 
        "Callback" function => cb 
        */

        // with the keyword "function"
        courses.forEach(function (course) {
            console.log(course.name);
        });

        // arrow function
        courses.forEach((element) => {
            document.write("<br>" + element.name);
        });

        // OR without ()
        courses.forEach(element => {
            document.write("<br>" + element.name);
        });

        // map: has the same format/syntax
        // notice that with "map()" we want to return an array of course names values
        const courseNameArray = courses.map(function (course) {
            return course.name;
        });

        console.log(courseNameArray);
        // Output....


        // filter
        const onlineClassArray = courses.filter(function (course) {
            return course.isOnline === true;
        });

        console.log(onlineClassArray);
        // output: (2) [{…}, {…}]

        document.write("<hr>");
        courses.forEach(element => {
            document.write("<br><br>Section: " + element.section);
            document.write("<br>Subject: " + element.name);
            document.write("<br>" + element.semester);
            document.write("<br>" + element.day);
            // Ternary Operator:
            let mode = (element.isOnline) ? "Online" : "In-person"
            document.write("<br>Delivery Mode: " + mode);
        });


        // anonymous function
        courses.forEach(function (course) {
            document.write("<br>" + course.name);
        });

        //  Q) What we use to loop through an object in JavaScript?
        /*
        For...in Syntax:
        for (const variable in object) {
            statement
        }
         Syntax Example:
        for (const property in object) {
             console.log(`${property}: ${object[property]}`);
        };
        */
        document.write("<ul>");
        for (const key in bio) {
            document.write(`<li>${key}: ${bio[key]}</li>`);
            document.write("<li>" + key + "</li>");
        }
        document.write("</ul>");

        for (const key in courses) {
            const element = courses[key];
            document.write("<br><br>Section: " + element.section);
            document.write("<br>Subject: " + element.name);
            document.write("<br>" + element.semester);
            document.write("<br>" + element.day);
            // Ternary Operator:
            let mode = (element.isOnline) ? "Online" : "In-person"
            document.write("<br>Delivery Mode: " + mode);
        }


        // More advanced, using method chaining:
        // method1().method2()...
        const onlineCourseArray = courses.filter(function (course) {
            return course.isOnline === true;
        }).map(function (course) {
            return course.name;
        });

        console.log(onlineCourseArray);

        /*
        For more details:
        https://github.com/anmarjarjees/fssd-api-all-together/tree/master/Part00-Intro-Initial%20Skills/JS%20Array%20Map%20Method
        */
    </script>
</body>

</html>